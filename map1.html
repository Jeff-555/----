<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>first Map</title>
    <style></style>
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
      }
      #container {
        width: 80%;
        height: 60%;
        margin: 0 auto;
        padding: 18% 0 0 0;
        border-width: none;
      }
    </style>
    <script
      type="text/javascript"
      src="https://webapi.amap.com/maps?v=1.4.15&key=248ef5458f973ecdf17bf3ccf8993c53"
    ></script>
  </head>
  <body>
    <div id="container"></div>
  </body>
  <script>
      // var map = new AMap.Map('container');
      var map = new AMap.Map('container', {
        zoom:11,//级别
        resizeEnable: true,
        // center: [116.397428, 39.90923],//中心点坐标
        viewMode:'3D'//使用3D视图

    });

    // var map = new AMap.Map("container", {
    //   resizeEnable: true,
    //   // center: [116.397428, 39.90923],
    //   layers: [
    //     //使用多个图层
    //     new AMap.TileLayer.Satellite(),
    //     new AMap.TileLayer.RoadNet(),
    //   ],
    //   zooms: [4, 18], //设置地图级别范围
    //   zoom: 13,
    // });

    // //实时路况图层
    // var trafficLayer = new AMap.TileLayer.Traffic({
    //   zIndex: 10,
    // });
    // map.add(trafficLayer); //添加图层到地图

    
    // ip定位
    AMap.plugin("AMap.CitySearch", function () {
      var citySearch = new AMap.CitySearch();
      citySearch.getLocalCity(function (status, result) {
        if (status === "complete" && result.info === "OK") {
          // 查询成功，result即为当前所在城市信息
          console.log(result.city);
          
        }
      });
    });

    // 浏览器定位
    // AMap.plugin("AMap.Geolocation", function () {
    //   var geolocation = new AMap.Geolocation({
    //     // 是否使用高精度定位，默认：true
    //     enableHighAccuracy: true,
    //     // 设置定位超时时间，默认：无穷大
    //     timeout: 10000,
    //     // 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)
    //     buttonOffset: new AMap.Pixel(10, 20),
    //     //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
    //     zoomToAccuracy: true,
    //     //  定位按钮的排放位置,  RB表示右下
    //     buttonPosition: "RB",
    //   });

    //   geolocation.getCurrentPosition();
    //   AMap.event.addListener(geolocation, "complete", onComplete);
    //   AMap.event.addListener(geolocation, "error", onError);

    //   function onComplete(data) {
    //     // data是具体的定位信息
    //     console.log('success');
    //   }

    //   function onError(data) {
    //     // 定位出错
    //     console.log('error');
    //     console.log(data);
    //   }
    // });
  </script>
</html>
