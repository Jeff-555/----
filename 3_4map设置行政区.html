<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>设置行政区</title>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }

      #container {
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
      }

      #ctiyDetails {
        width: 230px;
        height: 80px;
        background-color: beige;
        box-shadow: 0 0 5px black;
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 99;
        padding: 0;
        overflow: hidden;
      }
    </style>
    <script src="https://webapi.amap.com/maps?v=1.4.15&key=248ef5458f973ecdf17bf3ccf8993c53"></script>
  </head>

  <body>
    <div id="container"></div>
    <div id="ctiyDetails">
      <input type="text" name="" id="sCity" />
      <button id="sBtn">确定</button>
    </div>
  </body>
  <script>
    var map = new AMap.Map("container", {
      zoom: 11, //初始化地图级别 级别越大 位置越精
      center: [116.379391, 39.861536], //初始化地图中心点
    });

    map.setCity("广州市");

    sBtn.onclick = function(){
      city = map.setCity(sCity.value);
    };
    
    setTimeout(function () {
      map.getCity(function (info) {
        console.log(info);
        // ctiyDetails.innerHTML =
        //   info.district + "," + info.city + "," + info.province;
      });
    }, 3000);

    // map.on("moveend", function () {
    //   map.getCity(function (info) {
    //     info.district === "" || info.district === null
    //       ? (info.city === "" || info.district === null
    //         ? (ctiyDetails.innerHTML = info.province)
    //         : (ctiyDetails.innerHTML = info.city + "," + info.province))
    //       : (ctiyDetails.innerHTML =
    //           info.district + "," + info.city + "," + info.province);
    //   });
    // });
  </script>
</html>
